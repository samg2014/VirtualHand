doctype html
html
	meta(name="viewport", content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no")
	head
		title Virtual Hand Student Home

		link(rel="stylesheet", href="//netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css")
		link(rel="stylesheet", href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css")
		script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js')
		script(src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js', integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa", crossorigin="anonymous")

		style
			include ../../../client/css/student_home.css
		script
			include ../../../client/js/google_analytics.js
		script(src="/socket.io/socket.io.js")
		script.
			let socket = io({query: {token: '#{token}'}});
			console.log(socket);
	body
		input(type="hidden", value=user.id, id="user_id")
		div(id="main").container
			.row
				.col-sm-6.col-sm-offset-3
					a(href="https://github.com/samg2014/VirtualHand", target="_blank")
						img(style="position: absolute; top: 0; right: 0; border: 0;", src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67", alt="Fork me on GitHub", data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png")

					h1 Welcome #{user.username}!
					br
					br
					include modules/class_selector
					hr
					include modules/requester_module

					hr
					button(id="enroll_button", data-toggle="modal", data-target=".enroll-modal").btn.btn-success.btn-block Enroll in a Class
					button(id="change_password_button", data-toggle="modal", data-target=".change-password-modal").btn.btn-info.btn-block Change Password
					a(href="/logout").btn.btn-warning.btn-block Logout
		mixin modal(i, h)
			-var mid = i, header = h;
			div(class=mid, tabindex="-1", role="dialog").modal.fade
				div(role="document").modal-dialog
					.modal-content
						.modal-header
							button(type="button", data-dismiss="modal", aria-label="Close").close
								span(aria-hidden="true") &times;
							h4(align="center").modal-title= header
						.modal-body
							if block
								block
							else
								p Oops
						.model-footer
							button(type="button", data-dismiss="modal").btn.btn-block.btn-warning Close

		+modal("change-password-modal", "Change Password")
			include ../shared/change_password_module
		+modal("enroll-modal", "Enroll in a Class")
			include modules/enroll_module

		div(id="hall-pass-modal", tabindex="-1", role="dialog").modal.fade
			div(role="document", style="width: 100%; height:100%; margin: 0; padding: 0").modal-dialog
				div(style="height:auto; min-height: 100%; border-radius: 0;").modal-content
					.modal-body
						div.text-center
							h1 You have received the hall pass!
							h2#pass_timer
							button#return-pass-button.btn.btn-warning.btn-block.btn-lg Return Hall Pass
